(this.webpackJsonp4_notifications_front=this.webpackJsonp4_notifications_front||[]).push([[0],{71:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(31),a=n.n(c),o=n(42),s=n(84),r=n(18),d=n.n(r),p=n(32),l=n(33),u=n.n(l),f=n(7),h=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},j="STORE_USER_ID",y="SET_SHOW_SPINNER",m="STORE_NOTIFICATIONS",b=function(e,t){switch(t.type){case j:return function(e,t){return h("userId")||(document.cookie="userId=".concat(t.payload)),Object(f.a)(Object(f.a)({},e),{},{userId:t.payload})}(e,t);case y:return function(e,t){return Object(f.a)(Object(f.a)({},e),{},{showSpinner:t.payload})}(e,t);case m:return function(e,t){return Object(f.a)(Object(f.a)({},e),{},{notifications:t.payload})}(e,t);default:return e}},x=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,i,c,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,i=t.dispatch,c=t.actionType,a=t.showSpinner,o=void 0===a||a,e.prev=1,o&&i({type:y,payload:!0}),e.next=5,u.a.get(n,{withCredentials:!0});case 5:s=e.sent,i({type:c,payload:s.data}),o&&i({type:y,payload:!1}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),o&&i({type:y,payload:!1}),document.cookie="userId=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",i({type:j,payload:""}),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),O=n(4),g=O.a.div.withConfig({displayName:"Appstyles__AppWrapepr",componentId:"sc-sqmmnj-0"})(["position:relative;height:100vh;overflow:hidden;"]),v=O.a.div.withConfig({displayName:"Appstyles__ContentWrapper",componentId:"sc-sqmmnj-1"})(["padding:10px;"]),_=O.a.div.withConfig({displayName:"Appstyles__RefreshText",componentId:"sc-sqmmnj-2"})(["font-size:25px;text-align:center;"]),I=Object(i.createContext)({userId:"",showSpinner:!1,notifications:[]}),w=n(41),N=n(82),S=O.a.div.withConfig({displayName:"SingleNotificationstyles__NotificationsHeader",componentId:"sc-1yg1mts-0"})(["display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid black;padding:10px;"]),C=O.a.div.withConfig({displayName:"SingleNotificationstyles__TextWrapper",componentId:"sc-1yg1mts-1"})(["padding:10px;font-size:16px;"]),T=Object(O.a)(N.a).withConfig({displayName:"SingleNotificationstyles__StyledPaper",componentId:"sc-1yg1mts-2"})(["min-height:150px;margin-top:10px;width:50%;"]),k=n(2),E=function(e){var t=e.date,n=e.text,i=w.DateTime.fromISO(t,{zone:"utc"}).setZone("local").toFormat("HH:mm:ss");return Object(k.jsxs)(T,{elevation:3,children:[Object(k.jsxs)(S,{children:[Object(k.jsx)("div",{children:"Notification"}),Object(k.jsx)("div",{children:i})]}),Object(k.jsx)(C,{children:n})]})},A=O.a.div.withConfig({displayName:"NotificationsListstyles__ListWrapper",componentId:"sc-15y7ljo-0"})(["display:flex;flex-direction:column;align-items:center;"]),R=function(){var e=Object(i.useContext)(I).state.notifications.map((function(e){return Object(k.jsx)(E,{text:e.text,date:e.date},"".concat(e.date).concat(Math.random()))}));return Object(k.jsx)(A,{children:e})},W=n(85),H=O.a.div.withConfig({displayName:"Spinnerstyles__SpinnerContainer",componentId:"sc-3he3sv-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.3);"]),L=O.a.div.withConfig({displayName:"Spinnerstyles__SpinnerWrapper",componentId:"sc-3he3sv-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),P=O.a.div.withConfig({displayName:"Spinnerstyles__LoadingText",componentId:"sc-3he3sv-2"})(["color:#1976d2;margin-bottom:10px;"]),q=function(){return Object(k.jsx)(H,{children:Object(k.jsxs)(L,{children:[Object(k.jsx)(P,{children:"Loading..."}),Object(k.jsx)(W.a,{})]})})},z="/backend/getUserId",J="/backend/getNotifications?userId=",D=function(e,t){Object(i.useEffect)((function(){if(!t){var n=h("userId");n?e({type:j,payload:n}):x({url:z,dispatch:e,actionType:j})}}),[t])},F=function(){var e=Object(i.useContext)(I),t=Object(i.useReducer)(b,e),n=Object(o.a)(t,2),c=n[0],a=n[1],r=c.userId,d=c.showSpinner,p=c.notifications;return D(a,r),Object(i.useEffect)((function(){r&&x({url:"".concat(J).concat(r),dispatch:a,actionType:m})}),[r]),Object(i.useEffect)((function(){var e=setInterval((function(){r&&x({url:"".concat(J).concat(r),dispatch:a,actionType:m})}),3e4);return function(){return clearInterval(e)}}),[r]),Object(k.jsx)(I.Provider,{value:{state:c,dispatch:a},children:Object(k.jsxs)(g,{children:[Object(k.jsx)(s.a,{}),d&&Object(k.jsx)(q,{}),Object(k.jsxs)(v,{children:[Object(k.jsx)(_,{children:"Auto-refresh every 30 seconds"}),p.length>0&&Object(k.jsx)(R,{})]})]})})};a.a.render(Object(k.jsx)(F,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.b220d385.chunk.js.map