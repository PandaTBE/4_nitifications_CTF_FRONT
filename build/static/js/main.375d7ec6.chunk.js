(this.webpackJsonp4_notifications_front=this.webpackJsonp4_notifications_front||[]).push([[0],{71:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n(31),a=n.n(c),o=n(42),s=n(84),r=n(18),d=n.n(r),p=n(32),l=n(33),u=n.n(l),f=n(7),h=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2===e.length)return e.pop().split(";").shift()},j="STORE_USER_ID",y="SET_SHOW_SPINNER",m="STORE_NOTIFICATIONS",b=function(t,e){switch(e.type){case j:return function(t,e){return h("userId")||(document.cookie="userId=".concat(e.payload)),Object(f.a)(Object(f.a)({},t),{},{userId:e.payload})}(t,e);case y:return function(t,e){return Object(f.a)(Object(f.a)({},t),{},{showSpinner:e.payload})}(t,e);case m:return function(t,e){return Object(f.a)(Object(f.a)({},t),{},{notifications:e.payload})}(t,e);default:return t}},x=function(){var t=Object(p.a)(d.a.mark((function t(e){var n,i,c,a,o,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,i=e.dispatch,c=e.actionType,a=e.showSpinner,o=void 0===a||a,t.prev=1,o&&i({type:y,payload:!0}),t.next=5,u.a.get(n,{withCredentials:!0});case 5:s=t.sent,i({type:c,payload:s.data}),o&&i({type:y,payload:!1}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),o&&i({type:y,payload:!1}),document.cookie="userId=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",i({type:j,payload:""}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),O=n(4),g=O.a.div.withConfig({displayName:"Appstyles__AppWrapepr",componentId:"sc-sqmmnj-0"})(["position:relative;height:100vh;overflow:hidden;"]),v=O.a.div.withConfig({displayName:"Appstyles__ContentWrapper",componentId:"sc-sqmmnj-1"})(["padding:10px;"]),_=O.a.div.withConfig({displayName:"Appstyles__RefreshText",componentId:"sc-sqmmnj-2"})(["font-size:25px;text-align:center;"]),I=Object(i.createContext)({userId:"",showSpinner:!1,notifications:[]}),w=n(41),N=n(82),S=O.a.div.withConfig({displayName:"SingleNotificationstyles__NotificationsHeader",componentId:"sc-1yg1mts-0"})(["display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid black;padding:10px;"]),C=O.a.div.withConfig({displayName:"SingleNotificationstyles__TextWrapper",componentId:"sc-1yg1mts-1"})(["padding:10px;font-size:16px;"]),T=Object(O.a)(N.a).withConfig({displayName:"SingleNotificationstyles__StyledPaper",componentId:"sc-1yg1mts-2"})(["min-height:150px;margin-top:10px;width:50%;"]),k=n(2),E=function(t){var e=t.date,n=t.text,i=w.DateTime.fromISO(e).toLocal().toFormat("HH:MM:ss");return Object(k.jsxs)(T,{elevation:3,children:[Object(k.jsxs)(S,{children:[Object(k.jsx)("div",{children:"Notification"}),Object(k.jsx)("div",{children:i})]}),Object(k.jsx)(C,{children:n})]})},A=O.a.div.withConfig({displayName:"NotificationsListstyles__ListWrapper",componentId:"sc-15y7ljo-0"})(["display:flex;flex-direction:column;align-items:center;"]),R=function(){var t=Object(i.useContext)(I).state.notifications.map((function(t){return Object(k.jsx)(E,{text:t.text,date:t.date},"".concat(t.date).concat(Math.random()))}));return Object(k.jsx)(A,{children:t})},W=n(85),L=O.a.div.withConfig({displayName:"Spinnerstyles__SpinnerContainer",componentId:"sc-3he3sv-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.3);"]),H=O.a.div.withConfig({displayName:"Spinnerstyles__SpinnerWrapper",componentId:"sc-3he3sv-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),M=O.a.div.withConfig({displayName:"Spinnerstyles__LoadingText",componentId:"sc-3he3sv-2"})(["color:#1976d2;margin-bottom:10px;"]),P=function(){return Object(k.jsx)(L,{children:Object(k.jsxs)(H,{children:[Object(k.jsx)(M,{children:"Loading..."}),Object(k.jsx)(W.a,{})]})})},q="/backend/getUserId",J="/backend/getNotifications?userId=",z=function(t,e){Object(i.useEffect)((function(){if(!e){var n=h("userId");n?t({type:j,payload:n}):x({url:q,dispatch:t,actionType:j})}}),[e])},D=function(){var t=Object(i.useContext)(I),e=Object(i.useReducer)(b,t),n=Object(o.a)(e,2),c=n[0],a=n[1],r=c.userId,d=c.showSpinner,p=c.notifications;return z(a,r),Object(i.useEffect)((function(){r&&x({url:"".concat(J).concat(r),dispatch:a,actionType:m})}),[r]),Object(i.useEffect)((function(){var t=setInterval((function(){r&&x({url:"".concat(J).concat(r),dispatch:a,actionType:m})}),3e4);return function(){return clearInterval(t)}}),[r]),Object(k.jsx)(I.Provider,{value:{state:c,dispatch:a},children:Object(k.jsxs)(g,{children:[Object(k.jsx)(s.a,{}),d&&Object(k.jsx)(P,{}),Object(k.jsxs)(v,{children:[Object(k.jsx)(_,{children:"Auto-refresh every 30 seconds"}),p.length>0&&Object(k.jsx)(R,{})]})]})})};a.a.render(Object(k.jsx)(D,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.375d7ec6.chunk.js.map